---
import Swiper from 'swiper';
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';

const { slides } = Astro.props;
---

<style>
  .swiper-pagination-bullet-active {
    background-color: white;
  }

  .swiper-pagination {
    background: #f2d7ff;
    height: 4px;
    left: 170px !important;
    width: calc(100% - 200px) !important;
    top: 550px !important;
    border-radius: 2rem;
  }

  @media screen and (max-width: 768px) {
    .swiper-pagination {
      top: 500px !important;
    }
  }

  :global(.swiper-pagination-progressbar-fill) {
    background: #ff9933 !important;
  }

  .swiper-button-next {
    top: 400px !important;
    right: 75px !important;
  }

  .swiper-button-prev {
    top: 400px !important;
    right: 130px !important;
    left: auto !important;
  }

  .swiper-button-prev,
  .swiper-button-next {
    cursor: pointer;
    display: flex;
    align-items: center;
    width: 2.5rem;
    height: 2.5rem;
  }
  @media screen and (max-width: 450px) {
    .swiper-button-next,
    .swiper-button-prev {
      top: 330px !important;
    }
    .swiper-button-next {
      left: 60px !important;
    }

    .swiper-button-prev {
      left: 5px !important;
    }
    .swiper-button-prev svg,
    .swiper-button-next svg {
      width: 0.8rem;
      height: 0.8rem;
    }
  }

  .swiper-button-prev svg,
  .swiper-button-next svg {
    width: 2rem;
    height: 2rem;
  }

  .swiper-button-next:after,
  .swiper-rtl .swiper-button-prev:after,
  .swiper-button-prev:after,
  .swiper-rtl .swiper-button-next:after {
    content: none !important;
  }

  /* Add transition for the img element */

  img {
    transition: opacity 0.5s ease-in-out;
  }

  .hide-img {
    opacity: 0;
  }

  /* Add transition for the text elements */
  .slide-up {
    transition:
      transform 0.5s ease-in-out,
      opacity 0.5s ease-in-out;
    /* transform: translateY(50px); */
    /* opacity: 0; */
  }
</style>

<>
  <section class="container mx-auto pt-6 ">
    <div class="swiper sm:h-[450px] h-[370px]">
      <div class="swiper-wrapper">
        {
          slides.map((slide: any) => (
            <div class="swiper-slide">
              <div class="max-w-sm rounded overflow-hidden  bg-white">
                <img
                  class="w-full"
                  src={`${slide.image}`}
                  alt="Brandenburg Gate"
                />
                <div class="font-bold text-lg mb-1">{slide.title}</div>
              </div>
            </div>
          ))
        }
      </div>
      <>
        <div
          class="swiper-button-next rounded-full border-[3px] border-[#FF852E]"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-chevron-right text-[#FF852E]"
            ><path d="m9 18 6-6-6-6"></path></svg
          >
        </div>
        <div
          class="swiper-button-prev rounded-full border-[3px] border-[#FF852E] rotate-180"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-chevron-right text-[#FF852E]"
            ><path d="m9 18 6-6-6-6"></path></svg
          >
        </div>
      </>
      <!-- <div class="swiper-pagination"></div> -->
    </div>
  </section>
</>

<script
  is:inline
  src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script is:inline>
  new Swiper('.swiper', {
    spaceBetween: 20,
    slidesPerView: 1,
    effect: 'slide',
    speed: 800,
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    pagination: {
      el: '.swiper-pagination',
      type: 'progressbar',
      progressbarColor: '#FF9933',
    },
    autoplay: false,
    breakpoints: {
      1024: {
        slidesPerView: 3,
      },
      768: {
        slidesPerView: 2,
      },
    },
  });
</script>
